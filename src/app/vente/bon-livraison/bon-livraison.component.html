<div class="bon-commande-container">
  <div class="bon-commande-header">
    <h2>Bon de Livraison Client N°{{ formattedDeliveryNumber }}</h2>
  </div>

  <h3>Informations du Client</h3>
  <div class="grid formgrid p-fluid">
    <div class="col-12 md:col-4">
      <label>Client</label>
      <input pInputText [value]="selectedClient?.nom" [disabled]="true">
    </div>
    <div class="col-12 md:col-4">
      <label>Code client</label>
      <input pInputText [value]="selectedClient?.code" [disabled]="true">
    </div>
    <div class="col-12 md:col-4">
      <label>Adresse</label>
      <input pInputText [value]="selectedClient?.adresse" [disabled]="true">
    </div>
  </div>

  <h3>Produits Livrés</h3>
  <p-table [value]="bonLivraisonProduits" responsiveLayout="scroll" class="commande-table">
    <ng-template pTemplate="header">
      <tr>
        <th>Code</th>
        <th>Désignation</th>
        <th>Quantité</th>
        <th>PUHT/U</th>
        <th>TVA %</th>
        <th>TTC</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-item>
      <tr>
        <td>{{ item.produit.id }}</td>
        <td>{{ item.produit.nom }}</td>
        <td>{{ item.quantite }}</td>
        <td>{{ item.puht | number:'1.2-2' }}</td>
        <td>{{ item.tva }}%</td>
        <td>{{ item.prixTotal | number:'1.2-2' }}</td>
      </tr>
    </ng-template>
  </p-table>

  <div class="p-mt-4">
    <button 
      pButton 
      label="Enregistrer Bon de Livraison" 
      icon="pi pi-check" 
      class="p-button-success" 
      (click)="saveBonDeLivraisonAsDocument()">
    </button>
  </div>
</div>
