<div class="facture-container">
  <div class="facture-header">
    <h2>Facture Client N°{{ formattedOrderNumber }}</h2>
    <p class="date">Date : <strong>{{ currentDate | date:'dd MMMM yyyy' }}</strong></p>
  </div>

  <div class="client-info">
    <h3>Informations du Client</h3>
    <p><strong>Nom :</strong> {{ selectedClient.nom }}</p>
    <p><strong>Adresse :</strong> {{ selectedClient.adresse }}</p>
  </div>

  <p-table [value]="devisProduits" class="facture-table">
    <ng-template pTemplate="header">
      <tr>
        <th>Code</th>
        <th>Nom</th>
        <th>Quantité</th>
        <th>Prix Unitaire (€)</th>
        <th>Total (€)</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-item>
      <tr>
        <td>{{ item.produit.code }}</td>
        <td>{{ item.produit.nom }}</td>
        <td>{{ item.quantite }}</td>
        <td>{{ item.produit.prix | number:'1.2-2' }}</td>
        <td>{{ item.prixTotal | number:'1.2-2' }}</td>
      </tr>
    </ng-template>
  </p-table>

  <div class="totaux">
    <p><strong>Total HT :</strong> {{ totalHT | number:'1.2-2' }} €</p>
    <p><strong>Total TTC :</strong> {{ totalTTC | number:'1.2-2' }} €</p>
  </div>

  <button (click)="generatePDF()" pButton label="Télécharger la Facture" icon="pi pi-download" class="btn-download"></button>
</div>
